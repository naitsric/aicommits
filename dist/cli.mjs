#!/usr/bin/env node
import me from"tty";import{Buffer as On}from"node:buffer";import W from"node:path";import jt from"node:child_process";import b,{stdin as Lt,stdout as Gt}from"node:process";import Tn from"child_process";import q from"path";import Ne from"fs";import Pn from"node:url";import In,{constants as Ut}from"node:os";import Ht from"assert";import Wt from"events";import _n from"buffer";import je from"stream";import qt from"util";import*as he from"node:readline";import zt from"node:readline";import{WriteStream as kn}from"node:tty";import O from"fs/promises";import Kt from"os";import Rn from"https";import Mn from"net";import Nn from"tls";import jn,{fileURLToPath as Ln,pathToFileURL as Gn}from"url";const Un="known-flag",Hn="unknown-flag",Wn="argument",{stringify:ee}=JSON,qn=/\B([A-Z])/g,zn=e=>e.replace(qn,"-$1").toLowerCase(),{hasOwnProperty:Kn}=Object.prototype,te=(e,t)=>Kn.call(e,t),Yn=e=>Array.isArray(e),Yt=e=>typeof e=="function"?[e,!1]:Yn(e)?[e[0],!0]:Yt(e.type),Vn=(e,t)=>e===Boolean?t!=="false":t,Jn=(e,t)=>typeof t=="boolean"?t:e===Number&&t===""?Number.NaN:e(t),Xn=/[\s.:=]/,Zn=e=>{const t=`Flag name ${ee(e)}`;if(e.length===0)throw new Error(`${t} cannot be empty`);if(e.length===1)throw new Error(`${t} must be longer than a character`);const n=e.match(Xn);if(n)throw new Error(`${t} cannot contain ${ee(n?.[0])}`)},Qn=e=>{const t={},n=(u,r)=>{if(te(t,u))throw new Error(`Duplicate flags named ${ee(u)}`);t[u]=r};for(const u in e){if(!te(e,u))continue;Zn(u);const r=e[u],o=[[],...Yt(r),r];n(u,o);const s=zn(u);if(u!==s&&n(s,o),"alias"in r&&typeof r.alias=="string"){const{alias:i}=r,D=`Flag alias ${ee(i)} for flag ${ee(u)}`;if(i.length===0)throw new Error(`${D} cannot be empty`);if(i.length>1)throw new Error(`${D} must be a single character`);n(i,o)}}return t},er=(e,t)=>{const n={};for(const u in e){if(!te(e,u))continue;const[r,,o,s]=t[u];if(r.length===0&&"default"in s){let{default:i}=s;typeof i=="function"&&(i=i()),n[u]=i}else n[u]=o?r:r.pop()}return n},Ce="--",tr=/[.:=]/,ur=/^-{1,2}\w/,nr=e=>{if(!ur.test(e))return;const t=!e.startsWith(Ce);let n=e.slice(t?1:2),u;const r=n.match(tr);if(r){const{index:o}=r;u=n.slice(o+1),n=n.slice(0,o)}return[n,u,t]},rr=(e,{onFlag:t,onArgument:n})=>{let u;const r=(o,s)=>{if(typeof u!="function")return!0;u(o,s),u=void 0};for(let o=0;o<e.length;o+=1){const s=e[o];if(s===Ce){r();const D=e.slice(o+1);n?.(D,[o],!0);break}const i=nr(s);if(i){if(r(),!t)continue;const[D,l,f]=i;if(f)for(let a=0;a<D.length;a+=1){r();const c=a===D.length-1;u=t(D[a],c?l:void 0,[o,a+1,c])}else u=t(D,l,[o])}else r(s,[o])&&n?.([s],[o])}r()},or=(e,t)=>{for(const[n,u,r]of t.reverse()){if(u){const o=e[n];let s=o.slice(0,u);if(r||(s+=o.slice(u+1)),s!=="-"){e[n]=s;continue}}e.splice(n,1)}},sr=(e,t=process.argv.slice(2),{ignore:n}={})=>{const u=[],r=Qn(e),o={},s=[];return s[Ce]=[],rr(t,{onFlag(i,D,l){const f=te(r,i);if(!n?.(f?Un:Hn,i,D)){if(f){const[a,c]=r[i],d=Vn(c,D),p=(h,C)=>{u.push(l),C&&u.push(C),a.push(Jn(c,h||""))};return d===void 0?p:p(d)}te(o,i)||(o[i]=[]),o[i].push(D===void 0?!0:D),u.push(l)}},onArgument(i,D,l){n?.(Wn,t[D[0]])||(s.push(...i),l?(s[Ce]=i,t.splice(D[0])):u.push(D))}}),or(t,u),{flags:er(e,r),unknownFlags:o,_:s}};var ir=Object.create,Fe=Object.defineProperty,Dr=Object.defineProperties,ar=Object.getOwnPropertyDescriptor,cr=Object.getOwnPropertyDescriptors,lr=Object.getOwnPropertyNames,Vt=Object.getOwnPropertySymbols,fr=Object.getPrototypeOf,Jt=Object.prototype.hasOwnProperty,dr=Object.prototype.propertyIsEnumerable,Xt=(e,t,n)=>t in e?Fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ge=(e,t)=>{for(var n in t||(t={}))Jt.call(t,n)&&Xt(e,n,t[n]);if(Vt)for(var n of Vt(t))dr.call(t,n)&&Xt(e,n,t[n]);return e},Le=(e,t)=>Dr(e,cr(t)),pr=e=>Fe(e,"__esModule",{value:!0}),mr=(e,t)=>()=>(e&&(t=e(e=0)),t),hr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Cr=(e,t,n,u)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of lr(t))!Jt.call(e,r)&&(n||r!=="default")&&Fe(e,r,{get:()=>t[r],enumerable:!(u=ar(t,r))||u.enumerable});return e},Fr=(e,t)=>Cr(pr(Fe(e!=null?ir(fr(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),x=mr(()=>{}),gr=hr((e,t)=>{x(),t.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});x(),x(),x();var Er=e=>{var t,n,u;let r=(t=process.stdout.columns)!=null?t:Number.POSITIVE_INFINITY;return typeof e=="function"&&(e=e(r)),e||(e={}),Array.isArray(e)?{columns:e,stdoutColumns:r}:{columns:(n=e.columns)!=null?n:[],stdoutColumns:(u=e.stdoutColumns)!=null?u:r}};x(),x(),x(),x(),x();function yr({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}function Zt(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(yr(),"")}x();function br(e){return Number.isInteger(e)?e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141):!1}var wr=Fr(gr(),1);function M(e){if(typeof e!="string"||e.length===0||(e=Zt(e),e.length===0))return 0;e=e.replace((0,wr.default)(),"  ");let t=0;for(let n=0;n<e.length;n++){let u=e.codePointAt(n);u<=31||u>=127&&u<=159||u>=768&&u<=879||(u>65535&&n++,t+=br(u)?2:1)}return t}var Qt=e=>Math.max(...e.split(`
`).map(M)),Br=e=>{let t=[];for(let n of e){let{length:u}=n,r=u-t.length;for(let o=0;o<r;o+=1)t.push(0);for(let o=0;o<u;o+=1){let s=Qt(n[o]);s>t[o]&&(t[o]=s)}}return t};x();var eu=/^\d+%$/,tu={width:"auto",align:"left",contentWidth:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,horizontalPadding:0,paddingLeftString:"",paddingRightString:""},$r=(e,t)=>{var n;let u=[];for(let r=0;r<e.length;r+=1){let o=(n=t[r])!=null?n:"auto";if(typeof o=="number"||o==="auto"||o==="content-width"||typeof o=="string"&&eu.test(o)){u.push(Le(ge({},tu),{width:o,contentWidth:e[r]}));continue}if(o&&typeof o=="object"){let s=Le(ge(ge({},tu),o),{contentWidth:e[r]});s.horizontalPadding=s.paddingLeft+s.paddingRight,u.push(s);continue}throw new Error(`Invalid column width: ${JSON.stringify(o)}`)}return u};function vr(e,t){for(let n of e){let{width:u}=n;if(u==="content-width"&&(n.width=n.contentWidth),u==="auto"){let D=Math.min(20,n.contentWidth);n.width=D,n.autoOverflow=n.contentWidth-D}if(typeof u=="string"&&eu.test(u)){let D=Number.parseFloat(u.slice(0,-1))/100;n.width=Math.floor(t*D)-(n.paddingLeft+n.paddingRight)}let{horizontalPadding:r}=n,o=1,s=o+r;if(s>=t){let D=s-t,l=Math.ceil(n.paddingLeft/r*D),f=D-l;n.paddingLeft-=l,n.paddingRight-=f,n.horizontalPadding=n.paddingLeft+n.paddingRight}n.paddingLeftString=n.paddingLeft?" ".repeat(n.paddingLeft):"",n.paddingRightString=n.paddingRight?" ".repeat(n.paddingRight):"";let i=t-n.horizontalPadding;n.width=Math.max(Math.min(n.width,i),o)}}var uu=()=>Object.assign([],{columns:0});function Ar(e,t){let n=[uu()],[u]=n;for(let r of e){let o=r.width+r.horizontalPadding;u.columns+o>t&&(u=uu(),n.push(u)),u.push(r),u.columns+=o}for(let r of n){let o=r.reduce((c,d)=>c+d.width+d.horizontalPadding,0),s=t-o;if(s===0)continue;let i=r.filter(c=>"autoOverflow"in c),D=i.filter(c=>c.autoOverflow>0),l=D.reduce((c,d)=>c+d.autoOverflow,0),f=Math.min(l,s);for(let c of D){let d=Math.floor(c.autoOverflow/l*f);c.width+=d,s-=d}let a=Math.floor(s/i.length);for(let c=0;c<i.length;c+=1){let d=i[c];c===i.length-1?d.width+=s:d.width+=a,s-=a}}return n}function xr(e,t,n){let u=$r(n,t);return vr(u,e),Ar(u,e)}x(),x(),x();var Ge=10,nu=(e=0)=>t=>`\x1B[${t+e}m`,ru=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,ou=(e=0)=>(t,n,u)=>`\x1B[${38+e};2;${t};${n};${u}m`;function Sr(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[n,u]of Object.entries(t)){for(let[r,o]of Object.entries(u))t[r]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},u[r]=t[r],e.set(o[0],o[1]);Object.defineProperty(t,n,{value:u,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",t.color.ansi=nu(),t.color.ansi256=ru(),t.color.ansi16m=ou(),t.bgColor.ansi=nu(Ge),t.bgColor.ansi256=ru(Ge),t.bgColor.ansi16m=ou(Ge),Object.defineProperties(t,{rgbToAnsi256:{value:(n,u,r)=>n===u&&u===r?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(u/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:n=>{let u=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(n.toString(16));if(!u)return[0,0,0];let{colorString:r}=u.groups;r.length===3&&(r=r.split("").map(s=>s+s).join(""));let o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:n=>t.rgbToAnsi256(...t.hexToRgb(n)),enumerable:!1},ansi256ToAnsi:{value:n=>{if(n<8)return 30+n;if(n<16)return 90+(n-8);let u,r,o;if(n>=232)u=((n-232)*10+8)/255,r=u,o=u;else{n-=16;let D=n%36;u=Math.floor(n/36)/5,r=Math.floor(D/6)/5,o=D%6/5}let s=Math.max(u,r,o)*2;if(s===0)return 30;let i=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(u));return s===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(n,u,r)=>t.ansi256ToAnsi(t.rgbToAnsi256(n,u,r)),enumerable:!1},hexToAnsi:{value:n=>t.ansi256ToAnsi(t.hexToAnsi256(n)),enumerable:!1}}),t}var Or=Sr(),Tr=Or,Ee=new Set(["\x1B","\x9B"]),Pr=39,Ue="\x07",su="[",Ir="]",iu="m",He=`${Ir}8;;`,Du=e=>`${Ee.values().next().value}${su}${e}${iu}`,au=e=>`${Ee.values().next().value}${He}${e}${Ue}`,_r=e=>e.split(" ").map(t=>M(t)),We=(e,t,n)=>{let u=[...t],r=!1,o=!1,s=M(Zt(e[e.length-1]));for(let[i,D]of u.entries()){let l=M(D);if(s+l<=n?e[e.length-1]+=D:(e.push(D),s=0),Ee.has(D)&&(r=!0,o=u.slice(i+1).join("").startsWith(He)),r){o?D===Ue&&(r=!1,o=!1):D===iu&&(r=!1);continue}s+=l,s===n&&i<u.length-1&&(e.push(""),s=0)}!s&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},kr=e=>{let t=e.split(" "),n=t.length;for(;n>0&&!(M(t[n-1])>0);)n--;return n===t.length?e:t.slice(0,n).join(" ")+t.slice(n).join("")},Rr=(e,t,n={})=>{if(n.trim!==!1&&e.trim()==="")return"";let u="",r,o,s=_r(e),i=[""];for(let[l,f]of e.split(" ").entries()){n.trim!==!1&&(i[i.length-1]=i[i.length-1].trimStart());let a=M(i[i.length-1]);if(l!==0&&(a>=t&&(n.wordWrap===!1||n.trim===!1)&&(i.push(""),a=0),(a>0||n.trim===!1)&&(i[i.length-1]+=" ",a++)),n.hard&&s[l]>t){let c=t-a,d=1+Math.floor((s[l]-c-1)/t);Math.floor((s[l]-1)/t)<d&&i.push(""),We(i,f,t);continue}if(a+s[l]>t&&a>0&&s[l]>0){if(n.wordWrap===!1&&a<t){We(i,f,t);continue}i.push("")}if(a+s[l]>t&&n.wordWrap===!1){We(i,f,t);continue}i[i.length-1]+=f}n.trim!==!1&&(i=i.map(l=>kr(l)));let D=[...i.join(`
`)];for(let[l,f]of D.entries()){if(u+=f,Ee.has(f)){let{groups:c}=new RegExp(`(?:\\${su}(?<code>\\d+)m|\\${He}(?<uri>.*)${Ue})`).exec(D.slice(l).join(""))||{groups:{}};if(c.code!==void 0){let d=Number.parseFloat(c.code);r=d===Pr?void 0:d}else c.uri!==void 0&&(o=c.uri.length===0?void 0:c.uri)}let a=Tr.codes.get(Number(r));D[l+1]===`
`?(o&&(u+=au("")),r&&a&&(u+=Du(a))):f===`
`&&(r&&a&&(u+=Du(r)),o&&(u+=au(o)))}return u};function Mr(e,t,n){return String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(u=>Rr(u,t,n)).join(`
`)}var cu=e=>Array.from({length:e}).fill("");function Nr(e,t){let n=[],u=0;for(let r of e){let o=0,s=r.map(D=>{var l;let f=(l=t[u])!=null?l:"";u+=1,D.preprocess&&(f=D.preprocess(f)),Qt(f)>D.width&&(f=Mr(f,D.width,{hard:!0}));let a=f.split(`
`);if(D.postprocess){let{postprocess:c}=D;a=a.map((d,p)=>c.call(D,d,p))}return D.paddingTop&&a.unshift(...cu(D.paddingTop)),D.paddingBottom&&a.push(...cu(D.paddingBottom)),a.length>o&&(o=a.length),Le(ge({},D),{lines:a})}),i=[];for(let D=0;D<o;D+=1){let l=s.map(f=>{var a;let c=(a=f.lines[D])!=null?a:"",d=Number.isFinite(f.width)?" ".repeat(f.width-M(c)):"",p=f.paddingLeftString;return f.align==="right"&&(p+=d),p+=c,f.align==="left"&&(p+=d),p+f.paddingRightString}).join("");i.push(l)}n.push(i.join(`
`))}return n.join(`
`)}function jr(e,t){if(!e||e.length===0)return"";let n=Br(e),u=n.length;if(u===0)return"";let{stdoutColumns:r,columns:o}=Er(t);if(o.length>u)throw new Error(`${o.length} columns defined, but only ${u} columns found`);let s=xr(r,o,n);return e.map(i=>Nr(s,i)).join(`
`)}x();var Lr=["<",">","=",">=","<="];function Gr(e){if(!Lr.includes(e))throw new TypeError(`Invalid breakpoint operator: ${e}`)}function Ur(e){let t=Object.keys(e).map(n=>{let[u,r]=n.split(" ");Gr(u);let o=Number.parseInt(r,10);if(Number.isNaN(o))throw new TypeError(`Invalid breakpoint value: ${r}`);let s=e[n];return{operator:u,breakpoint:o,value:s}}).sort((n,u)=>u.breakpoint-n.breakpoint);return n=>{var u;return(u=t.find(({operator:r,breakpoint:o})=>r==="="&&n===o||r===">"&&n>o||r==="<"&&n<o||r===">="&&n>=o||r==="<="&&n<=o))==null?void 0:u.value}}const Hr=e=>e.replace(/[\W_]([a-z\d])?/gi,(t,n)=>n?n.toUpperCase():""),Wr=e=>e.replace(/\B([A-Z])/g,"-$1").toLowerCase(),qr={"> 80":[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"auto"}],"> 40":[{width:"auto",paddingLeft:2,paddingRight:8,preprocess:e=>e.trim()},{width:"100%",paddingLeft:2,paddingBottom:1}],"> 0":{stdoutColumns:1e3,columns:[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"content-width"}]}};function zr(e){let t=!1;return{type:"table",data:{tableData:Object.keys(e).sort((n,u)=>n.localeCompare(u)).map(n=>{const u=e[n],r="alias"in u;return r&&(t=!0),{name:n,flag:u,flagFormatted:`--${Wr(n)}`,aliasesEnabled:t,aliasFormatted:r?`-${u.alias}`:void 0}}).map(n=>(n.aliasesEnabled=t,[{type:"flagName",data:n},{type:"flagDescription",data:n}])),tableBreakpoints:qr}}}const lu=e=>!e||(e.version??(e.help?e.help.version:void 0)),fu=e=>{const t="parent"in e&&e.parent?.name;return(t?`${t} `:"")+e.name};function Kr(e){const t=[];e.name&&t.push(fu(e));const n=lu(e)??("parent"in e&&lu(e.parent));if(n&&t.push(`v${n}`),t.length!==0)return{id:"name",type:"text",data:`${t.join(" ")}
`}}function Yr(e){const{help:t}=e;if(!(!t||!t.description))return{id:"description",type:"text",data:`${t.description}
`}}function Vr(e){const t=e.help||{};if("usage"in t)return t.usage?{id:"usage",type:"section",data:{title:"Usage:",body:Array.isArray(t.usage)?t.usage.join(`
`):t.usage}}:void 0;if(e.name){const n=[],u=[fu(e)];if(e.flags&&Object.keys(e.flags).length>0&&u.push("[flags...]"),e.parameters&&e.parameters.length>0){const{parameters:r}=e,o=r.indexOf("--"),s=o>-1&&r.slice(o+1).some(i=>i.startsWith("<"));u.push(r.map(i=>i!=="--"?i:s?"--":"[--]").join(" "))}if(u.length>1&&n.push(u.join(" ")),"commands"in e&&e.commands?.length&&n.push(`${e.name} <command>`),n.length>0)return{id:"usage",type:"section",data:{title:"Usage:",body:n.join(`
`)}}}}function Jr(e){return!("commands"in e)||!e.commands?.length?void 0:{id:"commands",type:"section",data:{title:"Commands:",body:{type:"table",data:{tableData:e.commands.map(t=>[t.options.name,t.options.help?t.options.help.description:""]),tableOptions:[{width:"content-width",paddingLeft:2,paddingRight:8}]}},indentBody:0}}}function Xr(e){if(!(!e.flags||Object.keys(e.flags).length===0))return{id:"flags",type:"section",data:{title:"Flags:",body:zr(e.flags),indentBody:0}}}function Zr(e){const{help:t}=e;if(!t||!t.examples||t.examples.length===0)return;let{examples:n}=t;if(Array.isArray(n)&&(n=n.join(`
`)),n)return{id:"examples",type:"section",data:{title:"Examples:",body:n}}}function Qr(e){if(!("alias"in e)||!e.alias)return;const{alias:t}=e;return{id:"aliases",type:"section",data:{title:"Aliases:",body:Array.isArray(t)?t.join(", "):t}}}const eo=e=>[Kr,Yr,Vr,Jr,Xr,Zr,Qr].map(t=>t(e)).filter(Boolean),to=me.WriteStream.prototype.hasColors();class uo{text(t){return t}bold(t){return to?`\x1B[1m${t}\x1B[22m`:t.toLocaleUpperCase()}indentText({text:t,spaces:n}){return t.replace(/^/gm," ".repeat(n))}heading(t){return this.bold(t)}section({title:t,body:n,indentBody:u=2}){return`${(t?`${this.heading(t)}
`:"")+(n?this.indentText({text:this.render(n),spaces:u}):"")}
`}table({tableData:t,tableOptions:n,tableBreakpoints:u}){return jr(t.map(r=>r.map(o=>this.render(o))),u?Ur(u):n)}flagParameter(t){return t===Boolean?"":t===String?"<string>":t===Number?"<number>":Array.isArray(t)?this.flagParameter(t[0]):"<value>"}flagOperator(t){return" "}flagName(t){const{flag:n,flagFormatted:u,aliasesEnabled:r,aliasFormatted:o}=t;let s="";if(o?s+=`${o}, `:r&&(s+="    "),s+=u,"placeholder"in n&&typeof n.placeholder=="string")s+=`${this.flagOperator(t)}${n.placeholder}`;else{const i=this.flagParameter("type"in n?n.type:n);i&&(s+=`${this.flagOperator(t)}${i}`)}return s}flagDefault(t){return JSON.stringify(t)}flagDescription({flag:t}){let n="description"in t?t.description??"":"";if("default"in t){let{default:u}=t;typeof u=="function"&&(u=u()),u&&(n+=` (default: ${this.flagDefault(u)})`)}return n}render(t){if(typeof t=="string")return t;if(Array.isArray(t))return t.map(n=>this.render(n)).join(`
`);if("type"in t&&this[t.type]){const n=this[t.type];if(typeof n=="function")return n.call(this,t.data)}throw new Error(`Invalid node type: ${JSON.stringify(t)}`)}}const qe=/^[\w.-]+$/,{stringify:P}=JSON,no=/[|\\{}()[\]^$+*?.]/;function ze(e){const t=[];let n,u;for(const r of e){if(u)throw new Error(`Invalid parameter: Spread parameter ${P(u)} must be last`);const o=r[0],s=r[r.length-1];let i;if(o==="<"&&s===">"&&(i=!0,n))throw new Error(`Invalid parameter: Required parameter ${P(r)} cannot come after optional parameter ${P(n)}`);if(o==="["&&s==="]"&&(i=!1,n=r),i===void 0)throw new Error(`Invalid parameter: ${P(r)}. Must be wrapped in <> (required parameter) or [] (optional parameter)`);let D=r.slice(1,-1);const l=D.slice(-3)==="...";l&&(u=r,D=D.slice(0,-3));const f=D.match(no);if(f)throw new Error(`Invalid parameter: ${P(r)}. Invalid character found ${P(f[0])}`);t.push({name:D,required:i,spread:l})}return t}function Ke(e,t,n,u){for(let r=0;r<t.length;r+=1){const{name:o,required:s,spread:i}=t[r],D=Hr(o);if(D in e)throw new Error(`Invalid parameter: ${P(o)} is used more than once.`);const l=i?n.slice(r):n[r];if(i&&(r=t.length),s&&(!l||i&&l.length===0))return console.error(`Error: Missing required parameter ${P(o)}
`),u(),process.exit(1);e[D]=l}}function ro(e){return e===void 0||e!==!1}function du(e,t,n,u){const r={...t.flags},o=t.version;o&&(r.version={type:Boolean,description:"Show version"});const{help:s}=t,i=ro(s);i&&!("help"in r)&&(r.help={type:Boolean,alias:"h",description:"Show help"});const D=sr(r,u,{ignore:t.ignoreArgv}),l=()=>{console.log(t.version)};if(o&&D.flags.version===!0)return l(),process.exit(0);const f=new uo,a=i&&s?.render?s.render:p=>f.render(p),c=p=>{const h=eo({...t,...p?{help:p}:{},flags:r});console.log(a(h,f))};if(i&&D.flags.help===!0)return c(),process.exit(0);if(t.parameters){let{parameters:p}=t,h=D._;const C=p.indexOf("--"),F=p.slice(C+1),B=Object.create(null);if(C>-1&&F.length>0){p=p.slice(0,C);const _=D._["--"];h=h.slice(0,-_.length||void 0),Ke(B,ze(p),h,c),Ke(B,ze(F),_,c)}else Ke(B,ze(p),h,c);Object.assign(D._,B)}const d={...D,showVersion:l,showHelp:c};return typeof n=="function"&&n(d),{command:e,...d}}function oo(e,t){const n=new Map;for(const u of t){const r=[u.options.name],{alias:o}=u.options;o&&(Array.isArray(o)?r.push(...o):r.push(o));for(const s of r){if(n.has(s))throw new Error(`Duplicate command name found: ${P(s)}`);n.set(s,u)}}return n.get(e)}function so(e,t,n=process.argv.slice(2)){if(!e)throw new Error("Options is required");if("name"in e&&(!e.name||!qe.test(e.name)))throw new Error(`Invalid script name: ${P(e.name)}`);const u=n[0];if(e.commands&&qe.test(u)){const r=oo(u,e.commands);if(r)return du(r.options.name,{...r.options,parent:e},r.callback,n.slice(1))}return du(void 0,e,t,n)}function Ye(e,t){if(!e)throw new Error("Command options are required");const{name:n}=e;if(e.name===void 0)throw new Error("Command name is required");if(!qe.test(n))throw new Error(`Invalid command name ${JSON.stringify(n)}. Command names must be one word.`);return{options:e,callback:t}}var pu="0.0.0-semantic-release",io="Writes your git commit messages for you with AI",w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N={},Do={get exports(){return N},set exports(e){N=e}},Ve,mu;function ao(){if(mu)return Ve;mu=1,Ve=u,u.sync=r;var e=Ne;function t(o,s){var i=s.pathExt!==void 0?s.pathExt:process.env.PATHEXT;if(!i||(i=i.split(";"),i.indexOf("")!==-1))return!0;for(var D=0;D<i.length;D++){var l=i[D].toLowerCase();if(l&&o.substr(-l.length).toLowerCase()===l)return!0}return!1}function n(o,s,i){return!o.isSymbolicLink()&&!o.isFile()?!1:t(s,i)}function u(o,s,i){e.stat(o,function(D,l){i(D,D?!1:n(l,o,s))})}function r(o,s){return n(e.statSync(o),o,s)}return Ve}var Je,hu;function co(){if(hu)return Je;hu=1,Je=t,t.sync=n;var e=Ne;function t(o,s,i){e.stat(o,function(D,l){i(D,D?!1:u(l,s))})}function n(o,s){return u(e.statSync(o),s)}function u(o,s){return o.isFile()&&r(o,s)}function r(o,s){var i=o.mode,D=o.uid,l=o.gid,f=s.uid!==void 0?s.uid:process.getuid&&process.getuid(),a=s.gid!==void 0?s.gid:process.getgid&&process.getgid(),c=parseInt("100",8),d=parseInt("010",8),p=parseInt("001",8),h=c|d,C=i&p||i&d&&l===a||i&c&&D===f||i&h&&f===0;return C}return Je}var ye;process.platform==="win32"||w.TESTING_WINDOWS?ye=ao():ye=co();var lo=Xe;Xe.sync=fo;function Xe(e,t,n){if(typeof t=="function"&&(n=t,t={}),!n){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(u,r){Xe(e,t||{},function(o,s){o?r(o):u(s)})})}ye(e,t||{},function(u,r){u&&(u.code==="EACCES"||t&&t.ignoreErrors)&&(u=null,r=!1),n(u,r)})}function fo(e,t){try{return ye.sync(e,t||{})}catch(n){if(t&&t.ignoreErrors||n.code==="EACCES")return!1;throw n}}const z=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Cu=q,po=z?";":":",Fu=lo,gu=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Eu=(e,t)=>{const n=t.colon||po,u=e.match(/\//)||z&&e.match(/\\/)?[""]:[...z?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],r=z?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=z?r.split(n):[""];return z&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:u,pathExt:o,pathExtExe:r}},yu=(e,t,n)=>{typeof t=="function"&&(n=t,t={}),t||(t={});const{pathEnv:u,pathExt:r,pathExtExe:o}=Eu(e,t),s=[],i=l=>new Promise((f,a)=>{if(l===u.length)return t.all&&s.length?f(s):a(gu(e));const c=u[l],d=/^".*"$/.test(c)?c.slice(1,-1):c,p=Cu.join(d,e),h=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+p:p;f(D(h,l,0))}),D=(l,f,a)=>new Promise((c,d)=>{if(a===r.length)return c(i(f+1));const p=r[a];Fu(l+p,{pathExt:o},(h,C)=>{if(!h&&C)if(t.all)s.push(l+p);else return c(l+p);return c(D(l,f,a+1))})});return n?i(0).then(l=>n(null,l),n):i(0)},mo=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:u,pathExtExe:r}=Eu(e,t),o=[];for(let s=0;s<n.length;s++){const i=n[s],D=/^".*"$/.test(i)?i.slice(1,-1):i,l=Cu.join(D,e),f=!D&&/^\.[\\\/]/.test(e)?e.slice(0,2)+l:l;for(let a=0;a<u.length;a++){const c=f+u[a];try{if(Fu.sync(c,{pathExt:r}))if(t.all)o.push(c);else return c}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw gu(e)};var ho=yu;yu.sync=mo;var be={},Co={get exports(){return be},set exports(e){be=e}};const bu=(e={})=>{const t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(u=>u.toUpperCase()==="PATH")||"Path"};Co.exports=bu,be.default=bu;const wu=q,Fo=ho,go=be;function Bu(e,t){const n=e.options.env||process.env,u=process.cwd(),r=e.options.cwd!=null,o=r&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let s;try{s=Fo.sync(e.command,{path:n[go({env:n})],pathExt:t?wu.delimiter:void 0})}catch{}finally{o&&process.chdir(u)}return s&&(s=wu.resolve(r?e.options.cwd:"",s)),s}function Eo(e){return Bu(e)||Bu(e,!0)}var yo=Eo,Ze={};const Qe=/([()\][%!^"`<>&|;, *?])/g;function bo(e){return e=e.replace(Qe,"^$1"),e}function wo(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(Qe,"^$1"),t&&(e=e.replace(Qe,"^$1")),e}Ze.command=bo,Ze.argument=wo;var Bo=/^#!(.*)/;const $o=Bo;var vo=(e="")=>{const t=e.match($o);if(!t)return null;const[n,u]=t[0].replace(/#! ?/,"").split(" "),r=n.split("/").pop();return r==="env"?u:u?`${r} ${u}`:r};const et=Ne,Ao=vo;function xo(e){const n=Buffer.alloc(150);let u;try{u=et.openSync(e,"r"),et.readSync(u,n,0,150,0),et.closeSync(u)}catch{}return Ao(n.toString())}var So=xo;const Oo=q,$u=yo,vu=Ze,To=So,Po=process.platform==="win32",Io=/\.(?:com|exe)$/i,_o=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function ko(e){e.file=$u(e);const t=e.file&&To(e.file);return t?(e.args.unshift(e.file),e.command=t,$u(e)):e.file}function Ro(e){if(!Po)return e;const t=ko(e),n=!Io.test(t);if(e.options.forceShell||n){const u=_o.test(t);e.command=Oo.normalize(e.command),e.command=vu.command(e.command),e.args=e.args.map(o=>vu.argument(o,u));const r=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${r}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function Mo(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null),t=t?t.slice(0):[],n=Object.assign({},n);const u={command:e,args:t,options:n,file:void 0,original:{command:e,args:t}};return n.shell?u:Ro(u)}var No=Mo;const tt=process.platform==="win32";function ut(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function jo(e,t){if(!tt)return;const n=e.emit;e.emit=function(u,r){if(u==="exit"){const o=Au(r,t);if(o)return n.call(e,"error",o)}return n.apply(e,arguments)}}function Au(e,t){return tt&&e===1&&!t.file?ut(t.original,"spawn"):null}function Lo(e,t){return tt&&e===1&&!t.file?ut(t.original,"spawnSync"):null}var Go={hookChildProcess:jo,verifyENOENT:Au,verifyENOENTSync:Lo,notFoundError:ut};const xu=Tn,nt=No,rt=Go;function Su(e,t,n){const u=nt(e,t,n),r=xu.spawn(u.command,u.args,u.options);return rt.hookChildProcess(r,u),r}function Uo(e,t,n){const u=nt(e,t,n),r=xu.spawnSync(u.command,u.args,u.options);return r.error=r.error||rt.verifyENOENTSync(r.status,u),r}Do.exports=Su,N.spawn=Su,N.sync=Uo,N._parse=nt,N._enoent=rt;function Ho(e){const t=typeof e=="string"?`
`:`
`.charCodeAt(),n=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===n&&(e=e.slice(0,-1)),e}function Ou(e={}){const{env:t=process.env,platform:n=process.platform}=e;return n!=="win32"?"PATH":Object.keys(t).reverse().find(u=>u.toUpperCase()==="PATH")||"Path"}function Wo(e={}){const{cwd:t=b.cwd(),path:n=b.env[Ou()],execPath:u=b.execPath}=e;let r;const o=t instanceof URL?Pn.fileURLToPath(t):t;let s=W.resolve(o);const i=[];for(;r!==s;)i.push(W.join(s,"node_modules/.bin")),r=s,s=W.resolve(s,"..");return i.push(W.resolve(o,u,"..")),[...i,n].join(W.delimiter)}function qo({env:e=b.env,...t}={}){e={...e};const n=Ou({env:e});return t.path=e[n],e[n]=Wo(t),e}const zo=(e,t,n,u)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const r=Object.getOwnPropertyDescriptor(e,n),o=Object.getOwnPropertyDescriptor(t,n);!Ko(r,o)&&u||Object.defineProperty(e,n,o)},Ko=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Yo=(e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)},Vo=(e,t)=>`/* Wrapped ${e}*/
${t}`,Jo=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Xo=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Zo=(e,t,n)=>{const u=n===""?"":`with ${n.trim()}() `,r=Vo.bind(null,u,t.toString());Object.defineProperty(r,"name",Xo),Object.defineProperty(e,"toString",{...Jo,value:r})};function Qo(e,t,{ignoreNonConfigurable:n=!1}={}){const{name:u}=e;for(const r of Reflect.ownKeys(t))zo(e,t,r,n);return Yo(e,t),Zo(e,t,u),e}const we=new WeakMap,Tu=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let n,u=0;const r=e.displayName||e.name||"<anonymous>",o=function(...s){if(we.set(o,++u),u===1)n=e.apply(this,s),e=null;else if(t.throw===!0)throw new Error(`Function \`${r}\` can only be called once`);return n};return Qo(o,e),we.set(o,u),o};Tu.callCount=e=>{if(!we.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return we.get(e)};const es=function(){const e=Iu-Pu+1;return Array.from({length:e},ts)},ts=function(e,t){return{name:`SIGRT${t+1}`,number:Pu+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Pu=34,Iu=64,us=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}],_u=function(){const e=es();return[...us,...e].map(ns)},ns=function({name:e,number:t,description:n,action:u,forced:r=!1,standard:o}){const{signals:{[e]:s}}=Ut,i=s!==void 0;return{name:e,number:i?s:t,description:n,supported:i,action:u,forced:r,standard:o}},rs=function(){const e=_u();return Object.fromEntries(e.map(os))},os=function({name:e,number:t,description:n,supported:u,action:r,forced:o,standard:s}){return[e,{name:e,number:t,description:n,supported:u,action:r,forced:o,standard:s}]},ss=rs(),is=function(){const e=_u(),t=Iu+1,n=Array.from({length:t},(u,r)=>Ds(r,e));return Object.assign({},...n)},Ds=function(e,t){const n=as(e,t);if(n===void 0)return{};const{name:u,description:r,supported:o,action:s,forced:i,standard:D}=n;return{[e]:{name:u,number:e,description:r,supported:o,action:s,forced:i,standard:D}}},as=function(e,t){const n=t.find(({name:u})=>Ut.signals[u]===e);return n!==void 0?n:t.find(u=>u.number===e)};is();const cs=({timedOut:e,timeout:t,errorCode:n,signal:u,signalDescription:r,exitCode:o,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":n!==void 0?`failed with ${n}`:u!==void 0?`was killed with ${u} (${r})`:o!==void 0?`failed with exit code ${o}`:"failed",ku=({stdout:e,stderr:t,all:n,error:u,signal:r,exitCode:o,command:s,escapedCommand:i,timedOut:D,isCanceled:l,killed:f,parsed:{options:{timeout:a}}})=>{o=o===null?void 0:o,r=r===null?void 0:r;const c=r===void 0?void 0:ss[r].description,d=u&&u.code,h=`Command ${cs({timedOut:D,timeout:a,errorCode:d,signal:r,signalDescription:c,exitCode:o,isCanceled:l})}: ${s}`,C=Object.prototype.toString.call(u)==="[object Error]",F=C?`${h}
${u.message}`:h,B=[F,t,e].filter(Boolean).join(`
`);return C?(u.originalMessage=u.message,u.message=B):u=new Error(B),u.shortMessage=F,u.command=s,u.escapedCommand=i,u.exitCode=o,u.signal=r,u.signalDescription=c,u.stdout=e,u.stderr=t,n!==void 0&&(u.all=n),"bufferedData"in u&&delete u.bufferedData,u.failed=!0,u.timedOut=Boolean(D),u.isCanceled=l,u.killed=f&&!D,u},Be=["stdin","stdout","stderr"],ls=e=>Be.some(t=>e[t]!==void 0),fs=e=>{if(!e)return;const{stdio:t}=e;if(t===void 0)return Be.map(u=>e[u]);if(ls(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Be.map(u=>`\`${u}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const n=Math.max(t.length,Be.length);return Array.from({length:n},(u,r)=>t[r])};var K={},Ru={get exports(){return K},set exports(e){K=e}},$e={},ds={get exports(){return $e},set exports(e){$e=e}},Mu;function ps(){return Mu||(Mu=1,function(e){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],process.platform!=="win32"&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),process.platform==="linux"&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}(ds)),$e}var g=w.process;const j=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};if(!j(g))Ru.exports=function(){return function(){}};else{var ms=Ht,ue=ps(),hs=/^win/i.test(g.platform),ve=Wt;typeof ve!="function"&&(ve=ve.EventEmitter);var $;g.__signal_exit_emitter__?$=g.__signal_exit_emitter__:($=g.__signal_exit_emitter__=new ve,$.count=0,$.emitted={}),$.infinite||($.setMaxListeners(1/0),$.infinite=!0),Ru.exports=function(e,t){if(!j(w.process))return function(){};ms.equal(typeof e,"function","a callback must be provided for exit handler"),ne===!1&&Nu();var n="exit";t&&t.alwaysLast&&(n="afterexit");var u=function(){$.removeListener(n,e),$.listeners("exit").length===0&&$.listeners("afterexit").length===0&&ot()};return $.on(n,e),u};var ot=function(){!ne||!j(w.process)||(ne=!1,ue.forEach(function(t){try{g.removeListener(t,st[t])}catch{}}),g.emit=it,g.reallyExit=ju,$.count-=1)};K.unload=ot;var Y=function(t,n,u){$.emitted[t]||($.emitted[t]=!0,$.emit(t,n,u))},st={};ue.forEach(function(e){st[e]=function(){if(j(w.process)){var n=g.listeners(e);n.length===$.count&&(ot(),Y("exit",null,e),Y("afterexit",null,e),hs&&e==="SIGHUP"&&(e="SIGINT"),g.kill(g.pid,e))}}}),K.signals=function(){return ue};var ne=!1,Nu=function(){ne||!j(w.process)||(ne=!0,$.count+=1,ue=ue.filter(function(t){try{return g.on(t,st[t]),!0}catch{return!1}}),g.emit=Fs,g.reallyExit=Cs)};K.load=Nu;var ju=g.reallyExit,Cs=function(t){j(w.process)&&(g.exitCode=t||0,Y("exit",g.exitCode,null),Y("afterexit",g.exitCode,null),ju.call(g,g.exitCode))},it=g.emit,Fs=function(t,n){if(t==="exit"&&j(w.process)){n!==void 0&&(g.exitCode=n);var u=it.apply(this,arguments);return Y("exit",g.exitCode,null),Y("afterexit",g.exitCode,null),u}else return it.apply(this,arguments)}}const gs=1e3*5,Es=(e,t="SIGTERM",n={})=>{const u=e(t);return ys(e,t,n,u),u},ys=(e,t,n,u)=>{if(!bs(t,n,u))return;const r=Bs(n),o=setTimeout(()=>{e("SIGKILL")},r);o.unref&&o.unref()},bs=(e,{forceKillAfterTimeout:t},n)=>ws(e)&&t!==!1&&n,ws=e=>e===In.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",Bs=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return gs;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},$s=(e,t)=>{e.kill()&&(t.isCanceled=!0)},vs=(e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},As=(e,{timeout:t,killSignal:n="SIGTERM"},u)=>{if(t===0||t===void 0)return u;let r;const o=new Promise((i,D)=>{r=setTimeout(()=>{vs(e,n,D)},t)}),s=u.finally(()=>{clearTimeout(r)});return Promise.race([o,s])},xs=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},Ss=async(e,{cleanup:t,detached:n},u)=>{if(!t||n)return u;const r=K(()=>{e.kill()});return u.finally(()=>{r()})};function Os(e){return e!==null&&typeof e=="object"&&typeof e.pipe=="function"}var L={},Ts={get exports(){return L},set exports(e){L=e}};const{PassThrough:Ps}=je;var Is=e=>{e={...e};const{array:t}=e;let{encoding:n}=e;const u=n==="buffer";let r=!1;t?r=!(n||u):n=n||"utf8",u&&(n=null);const o=new Ps({objectMode:r});n&&o.setEncoding(n);let s=0;const i=[];return o.on("data",D=>{i.push(D),r?s=i.length:s+=D.length}),o.getBufferedValue=()=>t?i:u?Buffer.concat(i,s):i.join(""),o.getBufferedLength=()=>s,o};const{constants:_s}=_n,ks=je,{promisify:Rs}=qt,Ms=Is,Ns=Rs(ks.pipeline);class Lu extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function Dt(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};const{maxBuffer:n}=t,u=Ms(t);return await new Promise((r,o)=>{const s=i=>{i&&u.getBufferedLength()<=_s.MAX_LENGTH&&(i.bufferedData=u.getBufferedValue()),o(i)};(async()=>{try{await Ns(e,u),r()}catch(i){s(i)}})(),u.on("data",()=>{u.getBufferedLength()>n&&s(new Lu)})}),u.getBufferedValue()}Ts.exports=Dt,L.buffer=(e,t)=>Dt(e,{...t,encoding:"buffer"}),L.array=(e,t)=>Dt(e,{...t,array:!0}),L.MaxBufferError=Lu;const{PassThrough:js}=je;var Ls=function(){var e=[],t=new js({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=u,t.on("unpipe",r),Array.prototype.slice.call(arguments).forEach(n),t;function n(o){return Array.isArray(o)?(o.forEach(n),this):(e.push(o),o.once("end",r.bind(null,o)),o.once("error",t.emit.bind(t,"error")),o.pipe(t,{end:!1}),this)}function u(){return e.length==0}function r(o){e=e.filter(function(s){return s!==o}),!e.length&&t.readable&&t.end()}};const Gs=(e,t)=>{t!==void 0&&(Os(t)?t.pipe(e.stdin):e.stdin.end(t))},Us=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const n=Ls();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n},at=async(e,t)=>{if(!(!e||t===void 0)){e.destroy();try{return await t}catch(n){return n.bufferedData}}},ct=(e,{encoding:t,buffer:n,maxBuffer:u})=>{if(!(!e||!n))return t?L(e,{encoding:t,maxBuffer:u}):L.buffer(e,{maxBuffer:u})},Hs=async({stdout:e,stderr:t,all:n},{encoding:u,buffer:r,maxBuffer:o},s)=>{const i=ct(e,{encoding:u,buffer:r,maxBuffer:o}),D=ct(t,{encoding:u,buffer:r,maxBuffer:o}),l=ct(n,{encoding:u,buffer:r,maxBuffer:o*2});try{return await Promise.all([s,i,D,l])}catch(f){return Promise.all([{error:f,signal:f.signal,timedOut:f.timedOut},at(e,i),at(t,D),at(n,l)])}},Ws=(async()=>{})().constructor.prototype,qs=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Ws,e)]),Gu=(e,t)=>{for(const[n,u]of qs){const r=typeof t=="function"?(...o)=>Reflect.apply(u.value,t(),o):u.value.bind(t);Reflect.defineProperty(e,n,{...u,value:r})}return e},zs=e=>new Promise((t,n)=>{e.on("exit",(u,r)=>{t({exitCode:u,signal:r})}),e.on("error",u=>{n(u)}),e.stdin&&e.stdin.on("error",u=>{n(u)})}),Uu=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],Ks=/^[\w.-]+$/,Ys=/"/g,Vs=e=>typeof e!="string"||Ks.test(e)?e:`"${e.replace(Ys,'\\"')}"`,Js=(e,t)=>Uu(e,t).join(" "),Xs=(e,t)=>Uu(e,t).map(n=>Vs(n)).join(" "),Zs=1e3*1e3*100,Qs=({env:e,extendEnv:t,preferLocal:n,localDir:u,execPath:r})=>{const o=t?{...b.env,...e}:e;return n?qo({env:o,cwd:u,execPath:r}):o},ei=(e,t,n={})=>{const u=N._parse(e,t,n);return e=u.command,t=u.args,n=u.options,n={maxBuffer:Zs,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:n.cwd||b.cwd(),execPath:b.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...n},n.env=Qs(n),n.stdio=fs(n),b.platform==="win32"&&W.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:n,parsed:u}},lt=(e,t,n)=>typeof t!="string"&&!On.isBuffer(t)?n===void 0?void 0:"":e.stripFinalNewline?Ho(t):t;function G(e,t,n){const u=ei(e,t,n),r=Js(e,t),o=Xs(e,t);xs(u.options);let s;try{s=jt.spawn(u.file,u.args,u.options)}catch(d){const p=new jt.ChildProcess,h=Promise.reject(ku({error:d,stdout:"",stderr:"",all:"",command:r,escapedCommand:o,parsed:u,timedOut:!1,isCanceled:!1,killed:!1}));return Gu(p,h)}const i=zs(s),D=As(s,u.options,i),l=Ss(s,u.options,D),f={isCanceled:!1};s.kill=Es.bind(null,s.kill.bind(s)),s.cancel=$s.bind(null,s,f);const c=Tu(async()=>{const[{error:d,exitCode:p,signal:h,timedOut:C},F,B,_]=await Hs(s,u.options,l),pe=lt(u.options,F),R=lt(u.options,B),Me=lt(u.options,_);if(d||p!==0||h!==null){const H=ku({error:d,exitCode:p,signal:h,stdout:pe,stderr:R,all:Me,command:r,escapedCommand:o,parsed:u,timedOut:C,isCanceled:f.isCanceled||(u.options.signal?u.options.signal.aborted:!1),killed:s.killed});if(!u.options.reject)return H;throw H}return{command:r,escapedCommand:o,exitCode:0,stdout:pe,stderr:R,all:Me,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Gs(s,u.options.input),s.all=Us(s,u.options),Gu(s,c)}let U=!0;const V=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let Hu=0;if(V.process&&V.process.env&&V.process.stdout){const{FORCE_COLOR:e,NODE_DISABLE_COLORS:t,NO_COLOR:n,TERM:u}=V.process.env;t||n||e==="0"?U=!1:e==="1"||e==="2"||e==="3"?U=!0:u==="dumb"?U=!1:"CI"in V.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(r=>r in V.process.env)?U=!0:U=process.stdout.isTTY,U&&(Hu=u&&u.endsWith("-256color")?2:1)}let Wu={enabled:U,supportLevel:Hu};function re(e,t,n=1){const u=`\x1B[${e}m`,r=`\x1B[${t}m`,o=new RegExp(`\\x1b\\[${t}m`,"g");return s=>Wu.enabled&&Wu.supportLevel>=n?u+(""+s).replace(o,u)+r:""+s}const Ae=re(2,22),ft=re(30,39),J=re(31,39),oe=re(32,39),dt=re(46,49),pt="\x1B",y=`${pt}[`,ti="\x07",mt={to(e,t){return t?`${y}${t+1};${e+1}H`:`${y}${e+1}G`},move(e,t){let n="";return e<0?n+=`${y}${-e}D`:e>0&&(n+=`${y}${e}C`),t<0?n+=`${y}${-t}A`:t>0&&(n+=`${y}${t}B`),n},up:(e=1)=>`${y}${e}A`,down:(e=1)=>`${y}${e}B`,forward:(e=1)=>`${y}${e}C`,backward:(e=1)=>`${y}${e}D`,nextLine:(e=1)=>`${y}E`.repeat(e),prevLine:(e=1)=>`${y}F`.repeat(e),left:`${y}G`,hide:`${y}?25l`,show:`${y}?25h`,save:`${pt}7`,restore:`${pt}8`},ui={up:(e=1)=>`${y}S`.repeat(e),down:(e=1)=>`${y}T`.repeat(e)},ni={screen:`${y}2J`,up:(e=1)=>`${y}1J`.repeat(e),down:(e=1)=>`${y}J`.repeat(e),line:`${y}2K`,lineEnd:`${y}K`,lineStart:`${y}1K`,lines(e){let t="";for(let n=0;n<e;n++)t+=this.line+(n<e-1?mt.up():"");return e&&(t+=mt.left),t}};var A={cursor:mt,scroll:ui,erase:ni,beep:ti},m={},ri={get exports(){return m},set exports(e){m=e}};let oi=me,si=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||process.platform==="win32"||oi.isatty(1)&&process.env.TERM!=="dumb"||"CI"in process.env),E=(e,t,n=e)=>u=>{let r=""+u,o=r.indexOf(t,e.length);return~o?e+qu(r,t,n,o)+t:e+r+t},qu=(e,t,n,u)=>{let r=e.substring(0,u)+n,o=e.substring(u+t.length),s=o.indexOf(t);return~s?r+qu(o,t,n,s):r+o},zu=(e=si)=>({isColorSupported:e,reset:e?t=>`\x1B[0m${t}\x1B[0m`:String,bold:e?E("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"):String,dim:e?E("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"):String,italic:e?E("\x1B[3m","\x1B[23m"):String,underline:e?E("\x1B[4m","\x1B[24m"):String,inverse:e?E("\x1B[7m","\x1B[27m"):String,hidden:e?E("\x1B[8m","\x1B[28m"):String,strikethrough:e?E("\x1B[9m","\x1B[29m"):String,black:e?E("\x1B[30m","\x1B[39m"):String,red:e?E("\x1B[31m","\x1B[39m"):String,green:e?E("\x1B[32m","\x1B[39m"):String,yellow:e?E("\x1B[33m","\x1B[39m"):String,blue:e?E("\x1B[34m","\x1B[39m"):String,magenta:e?E("\x1B[35m","\x1B[39m"):String,cyan:e?E("\x1B[36m","\x1B[39m"):String,white:e?E("\x1B[37m","\x1B[39m"):String,gray:e?E("\x1B[90m","\x1B[39m"):String,bgBlack:e?E("\x1B[40m","\x1B[49m"):String,bgRed:e?E("\x1B[41m","\x1B[49m"):String,bgGreen:e?E("\x1B[42m","\x1B[49m"):String,bgYellow:e?E("\x1B[43m","\x1B[49m"):String,bgBlue:e?E("\x1B[44m","\x1B[49m"):String,bgMagenta:e?E("\x1B[45m","\x1B[49m"):String,bgCyan:e?E("\x1B[46m","\x1B[49m"):String,bgWhite:e?E("\x1B[47m","\x1B[49m"):String});ri.exports=zu(),m.createColors=zu;function ii(e,t){if(e===t)return;const n=e.split(`
`),u=t.split(`
`),r=[];for(let o=0;o<Math.max(n.length,u.length);o++)n[o]!==u[o]&&r.push(o);return r}const Ku=Symbol("clack:cancel");function xe(e){return e===Ku}function Se(e,t){e.isTTY&&e.setRawMode(t)}const Yu=new Map([["k","up"],["j","down"],["h","left"],["l","right"]]),Di=new Set(["up","down","left","right","space","enter"]);class Vu{constructor({render:t,input:n=Lt,output:u=Gt,...r},o=!0){this._track=!1,this._cursor=0,this.state="initial",this.error="",this.subscribers=new Map,this._prevFrame="",this.opts=r,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=t.bind(this),this._track=o,this.input=n,this.output=u}prompt(){const t=new kn(0);return t._write=(n,u,r)=>{this._track&&(this.value=this.rl.line.replace(/\t/g,""),this._cursor=this.rl.cursor,this.emit("value",this.value)),r()},this.input.pipe(t),this.rl=zt.createInterface({input:this.input,output:t,tabSize:2,prompt:"",escapeCodeTimeout:50}),zt.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),Se(this.input,!0),this.render(),new Promise((n,u)=>{this.once("submit",()=>{this.output.write(A.cursor.show),Se(this.input,!1),n(this.value)}),this.once("cancel",()=>{this.output.write(A.cursor.show),Se(this.input,!1),n(Ku)})})}on(t,n){const u=this.subscribers.get(t)??[];u.push({cb:n}),this.subscribers.set(t,u)}once(t,n){const u=this.subscribers.get(t)??[];u.push({cb:n,once:!0}),this.subscribers.set(t,u)}emit(t,...n){const u=this.subscribers.get(t)??[],r=[];for(const o of u)o.cb(...n),o.once&&r.push(()=>u.splice(u.indexOf(o),1));for(const o of r)o()}unsubscribe(){this.subscribers.clear()}onKeypress(t,n){if(this.state==="error"&&(this.state="active"),n?.name&&!this._track&&Yu.has(n.name)&&this.emit("cursor",Yu.get(n.name)),n?.name&&Di.has(n.name)&&this.emit("cursor",n.name),t&&(t.toLowerCase()==="y"||t.toLowerCase()==="n")&&this.emit("confirm",t.toLowerCase()==="y"),t&&this.emit("key",t.toLowerCase()),n?.name==="return"){if(this.opts.validate){const u=this.opts.validate(this.value);u&&(this.error=u,this.state="error",this.rl.write(this.value))}this.state!=="error"&&(this.state="submit")}t===""&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),Se(this.input,!1),this.rl.close(),this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){const t=this._prevFrame.split(`
`).length-1;this.output.write(A.cursor.move(-999,t*-1))}render(){const t=this._render(this)??"";if(t!==this._prevFrame){if(this.state==="initial")this.output.write(A.cursor.hide);else{const n=ii(this._prevFrame,t);if(this.restoreCursor(),n&&n?.length===1){const u=n[0];this.output.write(A.cursor.move(0,u)),this.output.write(A.erase.lines(1));const r=t.split(`
`);this.output.write(r[u]),this._prevFrame=t,this.output.write(A.cursor.move(0,r.length-u-1));return}else if(n&&n?.length>1){const u=n[0];this.output.write(A.cursor.move(0,u)),this.output.write(A.erase.down());const r=t.split(`
`).slice(u);this.output.write(r.join(`
`)),this._prevFrame=t;return}this.output.write(A.erase.down())}this.output.write(t),this.state==="initial"&&(this.state="active"),this._prevFrame=t}}}class ai extends Vu{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(t){super(t,!1),this.value=!!t.initialValue,this.on("value",()=>{this.value=this._value}),this.on("confirm",n=>{this.output.write(A.cursor.move(0,-1)),this.value=n,this.state="submit",this.close()}),this.on("cursor",()=>{this.value=!this.value})}}class ci extends Vu{constructor(t){super(t,!1),this.cursor=0,this.options=t.options,this.cursor=this.options.findIndex(({value:n})=>n===t.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",n=>{switch(n){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}}function li({input:e=Lt,output:t=Gt,overwrite:n=!0,hideCursor:u=!0}={}){const r=he.createInterface({input:e,output:t,prompt:"",tabSize:1});he.emitKeypressEvents(e,r),e.isTTY&&e.setRawMode(!0);const o=(s,{name:i})=>{if(String(s)===""&&process.exit(0),!n)return;let D=i==="return"?0:-1,l=i==="return"?-1:0;he.moveCursor(t,D,l,()=>{he.clearLine(t,1,()=>{e.once("keypress",o)})})};return u&&process.stdout.write(A.cursor.hide),e.once("keypress",o),()=>{e.off("keypress",o),u&&process.stdout.write(A.cursor.show),r.terminal=!1,r.close()}}function fi(){return b.platform!=="win32"?b.env.TERM!=="linux":Boolean(b.env.CI)||Boolean(b.env.WT_SESSION)||Boolean(b.env.TERMINUS_SUBLIME)||b.env.ConEmuTask==="{cmd::Cmder}"||b.env.TERM_PROGRAM==="Terminus-Sublime"||b.env.TERM_PROGRAM==="vscode"||b.env.TERM==="xterm-256color"||b.env.TERM==="alacritty"||b.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}const ht=fi(),k=(e,t)=>ht?e:t,di=k("\u25C6","*"),pi=k("\u25A0","x"),mi=k("\u25B2","x"),Ju=k("\u25C7","o"),hi=k("\u250C","T"),S=k("\u2502","|"),Ct=k("\u2514","\u2014"),Ft=k("\u25CF",">"),gt=k("\u25CB"," "),Xu=e=>{switch(e){case"initial":case"active":return m.cyan(di);case"cancel":return m.red(pi);case"error":return m.yellow(mi);case"submit":return m.green(Ju)}},Zu=e=>{const t=e.active??"Yes",n=e.inactive??"No";return new ai({active:t,inactive:n,initialValue:e.initialValue??!0,render(){const u=`${m.gray(S)}
${Xu(this.state)}  ${e.message}
`,r=this.value?t:n;switch(this.state){case"submit":return`${u}${m.gray(S)}  ${m.dim(r)}`;case"cancel":return`${u}${m.gray(S)}  ${m.strikethrough(m.dim(r))}
${m.gray(S)}`;default:return`${u}${m.cyan(S)}  ${this.value?`${m.green(Ft)} ${t}`:`${m.dim(gt)} ${m.dim(t)}`} ${m.dim("/")} ${this.value?`${m.dim(gt)} ${m.dim(n)}`:`${m.green(Ft)} ${n}`}
${m.cyan(Ct)}
`}}}).prompt()},Qu=e=>{const t=(n,u)=>{const r=n.label??String(n.value);return u==="active"?`${m.green(Ft)} ${r} ${n.hint?m.dim(`(${n.hint})`):""}`:u==="selected"?`${m.dim(r)}`:u==="cancelled"?`${m.strikethrough(m.dim(r))}`:`${m.dim(gt)} ${m.dim(r)}`};return new ci({options:e.options,initialValue:e.initialValue,render(){const n=`${m.gray(S)}
${Xu(this.state)}  ${e.message}
`;switch(this.state){case"submit":return`${n}${m.gray(S)}  ${t(this.options[this.cursor],"selected")}`;case"cancel":return`${n}${m.gray(S)}  ${t(this.options[this.cursor],"cancelled")}
${m.gray(S)}`;default:return`${n}${m.cyan(S)}  ${this.options.map((u,r)=>t(u,r===this.cursor?"active":"inactive")).join(`
${m.cyan(S)}  `)}
${m.cyan(Ct)}
`}}}).prompt()},Et=(e="")=>{process.stdout.write(`${m.gray(hi)}  ${e}
`)},I=(e="")=>{process.stdout.write(`${m.gray(S)}
${m.gray(Ct)}  ${e}

`)},yt=ht?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],se=()=>{let e,t;const n=ht?80:120;return{start(u=""){u=u.replace(/\.?\.?\.$/,""),e=li(),process.stdout.write(`${m.gray(S)}
${m.magenta("\u25CB")}  ${u}
`);let r=0,o=0;t=setInterval(()=>{let s=yt[r];process.stdout.write(A.cursor.move(-999,-1)),process.stdout.write(`${m.magenta(s)}  ${u}${Math.floor(o)>=1?".".repeat(Math.floor(o)).slice(0,3):""}   
`),r=r===yt.length-1?0:r+1,o=o===yt.length?0:o+.125},n)},stop(u=""){process.stdout.write(A.cursor.move(-999,-2)),process.stdout.write(A.erase.down(2)),clearInterval(t),process.stdout.write(`${m.gray(S)}
${m.green(Ju)}  ${u}
`),e()}}};class v extends Error{}const bt="    ",X=e=>{e instanceof Error&&!(e instanceof v)&&(e.stack&&console.error(Ae(e.stack.split(`
`).slice(1).join(`
`))),console.error(`
${bt}${Ae(`aicommits v${pu}`)}`),console.error(`
${bt}Please open a Bug report with the information above:`),console.error(`${bt}https://github.com/Nutlope/aicommits/issues/new/choose`))},wt=async()=>{const{stdout:e,failed:t}=await G("git",["rev-parse","--show-toplevel"],{reject:!1});if(t)throw new v("The current directory must be a Git repository!");return e},ie=e=>`:(exclude)${e}`,Oe=["package-lock.json","pnpm-lock.yaml","*.lock"].map(ie),en=async e=>{const t=["diff","--cached","--diff-algorithm=minimal"],{stdout:n}=await G("git",[...t,"--name-only",...Oe,...e?e.map(ie):[]]);if(!n)return;const{stdout:u}=await G("git",[...t,...Oe,...e?e.map(ie):[]]);return{files:n.split(`
`),diff:u}},Ci=async(e,t,n)=>{const u=["diff",e,t,"--diff-algorithm=minimal"],{stdout:r}=await G("git",[...u,"--name-only",...Oe,...n?n.map(ie):[]]);if(!r)return;const o=r.split(`
`);let s=[];for(const i of o){let{diff:D}=await Fi(e,t,i,n);s.push(D)}return{files:o,diff:s}},Fi=async(e,t,n,u)=>{const r=["diff",`${e}..${t}`,"--diff-algorithm=minimal","--",n],{stdout:o}=await G("git",[...r,...Oe,...u?u.map(ie):[]]);return{diff:o}},tn=e=>`Detected ${e.length.toLocaleString()} staged file${e.length>1?"s":""}`,{hasOwnProperty:Bt}=Object.prototype,Te=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`,$t=(e,t)=>{const n=[];let u="";typeof t=="string"?t={section:t,whitespace:!1}:(t=t||Object.create(null),t.whitespace=t.whitespace===!0);const r=t.whitespace?" = ":"=";for(const o of Object.keys(e)){const s=e[o];if(s&&Array.isArray(s))for(const i of s)u+=Z(o+"[]")+r+Z(i)+Te;else s&&typeof s=="object"?n.push(o):u+=Z(o)+r+Z(s)+Te}t.section&&u.length&&(u="["+Z(t.section)+"]"+Te+u);for(const o of n){const s=un(o).join("\\."),i=(t.section?t.section+".":"")+s,{whitespace:D}=t,l=$t(e[o],{section:i,whitespace:D});u.length&&l.length&&(u+=Te),u+=l}return u},un=e=>e.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(t=>t.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")),nn=e=>{const t=Object.create(null);let n=t,u=null;const r=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,o=e.split(/[\r\n]+/g);for(const i of o){if(!i||i.match(/^\s*[;#]/))continue;const D=i.match(r);if(!D)continue;if(D[1]!==void 0){if(u=Pe(D[1]),u==="__proto__"){n=Object.create(null);continue}n=t[u]=t[u]||Object.create(null);continue}const l=Pe(D[2]),f=l.length>2&&l.slice(-2)==="[]",a=f?l.slice(0,-2):l;if(a==="__proto__")continue;const c=D[3]?Pe(D[4]):!0,d=c==="true"||c==="false"||c==="null"?JSON.parse(c):c;f&&(Bt.call(n,a)?Array.isArray(n[a])||(n[a]=[n[a]]):n[a]=[]),Array.isArray(n[a])?n[a].push(d):n[a]=d}const s=[];for(const i of Object.keys(t)){if(!Bt.call(t,i)||typeof t[i]!="object"||Array.isArray(t[i]))continue;const D=un(i);n=t;const l=D.pop(),f=l.replace(/\\\./g,".");for(const a of D)a!=="__proto__"&&((!Bt.call(n,a)||typeof n[a]!="object")&&(n[a]=Object.create(null)),n=n[a]);n===t&&f===l||(n[f]=t[i],s.push(i))}for(const i of s)delete t[i];return t},rn=e=>e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"),Z=e=>typeof e!="string"||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&rn(e)||e!==e.trim()?JSON.stringify(e):e.split(";").join("\\;").split("#").join("\\#"),Pe=(e,t)=>{if(e=(e||"").trim(),rn(e)){e.charAt(0)==="'"&&(e=e.slice(1,-1));try{e=JSON.parse(e)}catch{}}else{let n=!1,u="";for(let r=0,o=e.length;r<o;r++){const s=e.charAt(r);if(n)"\\;#".indexOf(s)!==-1?u+=s:u+="\\"+s,n=!1;else{if(";#".indexOf(s)!==-1)break;s==="\\"?n=!0:u+=s}}return n&&(u+="\\"),u.trim()}return e};var on={parse:nn,decode:nn,stringify:$t,encode:$t,safe:Z,unsafe:Pe};const sn=e=>O.lstat(e).then(()=>!0,()=>!1),gi=["","conventional"],{hasOwnProperty:Ei}=Object.prototype,Dn=(e,t)=>Ei.call(e,t),T=(e,t,n)=>{if(!t)throw new v(`Invalid config property ${e}: ${n}`)},Ie={OPENAI_KEY(e){if(!e)throw new v("Please set your OpenAI API key via `aicommits config set OPENAI_KEY=<your token>`");return T("OPENAI_KEY",e.startsWith("sk-"),'Must start with "sk-"'),e},locale(e){return e?(T("locale",e,"Cannot be empty"),T("locale",/^[a-z-]+$/i.test(e),"Must be a valid locale (letters and dashes/underscores). You can consult the list of codes in: https://wikipedia.org/wiki/List_of_ISO_639-1_codes"),e):"en"},generate(e){if(!e)return 1;T("generate",/^\d+$/.test(e),"Must be an integer");const t=Number(e);return T("generate",t>0,"Must be greater than 0"),T("generate",t<=5,"Must be less or equal to 5"),t},type(e){return e?(T("type",gi.includes(e),"Invalid commit type"),e):""},proxy(e){if(!(!e||e.length===0))return T("proxy",/^https?:\/\//.test(e),"Must be a valid URL"),e},model(e){return!e||e.length===0?"gpt-3.5-turbo":e},timeout(e){if(!e)return 1e4;T("timeout",/^\d+$/.test(e),"Must be an integer");const t=Number(e);return T("timeout",t>=500,"Must be greater than 500ms"),t},"max-length"(e){if(!e)return 50;T("max-length",/^\d+$/.test(e),"Must be an integer");const t=Number(e);return T("max-length",t>=20,"Must be greater than 20 characters"),t}},vt=q.join(Kt.homedir(),".aicommits"),an=async()=>{if(!await sn(vt))return Object.create(null);const t=await O.readFile(vt,"utf8");return on.parse(t)},_e=async(e,t)=>{const n=await an(),u={};for(const r of Object.keys(Ie)){const o=Ie[r],s=e?.[r]??n[r];if(t)try{u[r]=o(s)}catch{}else u[r]=o(s)}return u},yi=async e=>{const t=await an();for(const[n,u]of e){if(!Dn(Ie,n))throw new v(`Invalid config property: ${n}`);const r=Ie[n](u);t[n]=r}await O.writeFile(vt,on.stringify(t),"utf8")};var At={},De={},bi={get exports(){return De},set exports(e){De=e}},ae={},wi={get exports(){return ae},set exports(e){ae=e}},xt,cn;function Bi(){if(cn)return xt;cn=1;var e=1e3,t=e*60,n=t*60,u=n*24,r=u*7,o=u*365.25;xt=function(f,a){a=a||{};var c=typeof f;if(c==="string"&&f.length>0)return s(f);if(c==="number"&&isFinite(f))return a.long?D(f):i(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function s(f){if(f=String(f),!(f.length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(a){var c=parseFloat(a[1]),d=(a[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*r;case"days":case"day":case"d":return c*u;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function i(f){var a=Math.abs(f);return a>=u?Math.round(f/u)+"d":a>=n?Math.round(f/n)+"h":a>=t?Math.round(f/t)+"m":a>=e?Math.round(f/e)+"s":f+"ms"}function D(f){var a=Math.abs(f);return a>=u?l(f,a,u,"day"):a>=n?l(f,a,n,"hour"):a>=t?l(f,a,t,"minute"):a>=e?l(f,a,e,"second"):f+" ms"}function l(f,a,c,d){var p=a>=c*1.5;return Math.round(f/c)+" "+d+(p?"s":"")}return xt}var St,ln;function fn(){if(ln)return St;ln=1;function e(t){u.debug=u,u.default=u,u.coerce=l,u.disable=s,u.enable=o,u.enabled=i,u.humanize=Bi(),u.destroy=f,Object.keys(t).forEach(a=>{u[a]=t[a]}),u.names=[],u.skips=[],u.formatters={};function n(a){let c=0;for(let d=0;d<a.length;d++)c=(c<<5)-c+a.charCodeAt(d),c|=0;return u.colors[Math.abs(c)%u.colors.length]}u.selectColor=n;function u(a){let c,d=null,p,h;function C(...F){if(!C.enabled)return;const B=C,_=Number(new Date),pe=_-(c||_);B.diff=pe,B.prev=c,B.curr=_,c=_,F[0]=u.coerce(F[0]),typeof F[0]!="string"&&F.unshift("%O");let R=0;F[0]=F[0].replace(/%([a-zA-Z%])/g,(H,xn)=>{if(H==="%%")return"%";R++;const Nt=u.formatters[xn];if(typeof Nt=="function"){const Sn=F[R];H=Nt.call(B,Sn),F.splice(R,1),R--}return H}),u.formatArgs.call(B,F),(B.log||u.log).apply(B,F)}return C.namespace=a,C.useColors=u.useColors(),C.color=u.selectColor(a),C.extend=r,C.destroy=u.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==u.namespaces&&(p=u.namespaces,h=u.enabled(a)),h),set:F=>{d=F}}),typeof u.init=="function"&&u.init(C),C}function r(a,c){const d=u(this.namespace+(typeof c>"u"?":":c)+a);return d.log=this.log,d}function o(a){u.save(a),u.namespaces=a,u.names=[],u.skips=[];let c;const d=(typeof a=="string"?a:"").split(/[\s,]+/),p=d.length;for(c=0;c<p;c++)d[c]&&(a=d[c].replace(/\*/g,".*?"),a[0]==="-"?u.skips.push(new RegExp("^"+a.slice(1)+"$")):u.names.push(new RegExp("^"+a+"$")))}function s(){const a=[...u.names.map(D),...u.skips.map(D).map(c=>"-"+c)].join(",");return u.enable(""),a}function i(a){if(a[a.length-1]==="*")return!0;let c,d;for(c=0,d=u.skips.length;c<d;c++)if(u.skips[c].test(a))return!1;for(c=0,d=u.names.length;c<d;c++)if(u.names[c].test(a))return!0;return!1}function D(a){return a.toString().substring(2,a.toString().length-2).replace(/\.\*\?$/,"*")}function l(a){return a instanceof Error?a.stack||a.message:a}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return u.enable(u.load()),u}return St=e,St}var dn;function $i(){return dn||(dn=1,function(e,t){t.formatArgs=u,t.save=r,t.load=o,t.useColors=n,t.storage=s(),t.destroy=(()=>{let D=!1;return()=>{D||(D=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function u(D){if(D[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+D[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;D.splice(1,0,l,"color: inherit");let f=0,a=0;D[0].replace(/%[a-zA-Z%]/g,c=>{c!=="%%"&&(f++,c==="%c"&&(a=f))}),D.splice(a,0,l)}t.log=console.debug||console.log||(()=>{});function r(D){try{D?t.storage.setItem("debug",D):t.storage.removeItem("debug")}catch{}}function o(){let D;try{D=t.storage.getItem("debug")}catch{}return!D&&typeof process<"u"&&"env"in process&&(D=process.env.DEBUG),D}function s(){try{return localStorage}catch{}}e.exports=fn()(t);const{formatters:i}=e.exports;i.j=function(D){try{return JSON.stringify(D)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}}(wi,ae)),ae}var ce={},vi={get exports(){return ce},set exports(e){ce=e}},Ot,pn;function Ai(){return pn||(pn=1,Ot=(e,t=process.argv)=>{const n=e.startsWith("-")?"":e.length===1?"-":"--",u=t.indexOf(n+e),r=t.indexOf("--");return u!==-1&&(r===-1||u<r)}),Ot}var Tt,mn;function xi(){if(mn)return Tt;mn=1;const e=Kt,t=me,n=Ai(),{env:u}=process;let r;n("no-color")||n("no-colors")||n("color=false")||n("color=never")?r=0:(n("color")||n("colors")||n("color=true")||n("color=always"))&&(r=1),"FORCE_COLOR"in u&&(u.FORCE_COLOR==="true"?r=1:u.FORCE_COLOR==="false"?r=0:r=u.FORCE_COLOR.length===0?1:Math.min(parseInt(u.FORCE_COLOR,10),3));function o(D){return D===0?!1:{level:D,hasBasic:!0,has256:D>=2,has16m:D>=3}}function s(D,l){if(r===0)return 0;if(n("color=16m")||n("color=full")||n("color=truecolor"))return 3;if(n("color=256"))return 2;if(D&&!l&&r===void 0)return 0;const f=r||0;if(u.TERM==="dumb")return f;if(process.platform==="win32"){const a=e.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in u)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(a=>a in u)||u.CI_NAME==="codeship"?1:f;if("TEAMCITY_VERSION"in u)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(u.TEAMCITY_VERSION)?1:0;if(u.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in u){const a=parseInt((u.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(u.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(u.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(u.TERM)||"COLORTERM"in u?1:f}function i(D){const l=s(D,D&&D.isTTY);return o(l)}return Tt={supportsColor:i,stdout:o(s(!0,t.isatty(1))),stderr:o(s(!0,t.isatty(2)))},Tt}var hn;function Si(){return hn||(hn=1,function(e,t){const n=me,u=qt;t.init=f,t.log=i,t.formatArgs=o,t.save=D,t.load=l,t.useColors=r,t.destroy=u.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const c=xi();c&&(c.stderr||c).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}t.inspectOpts=Object.keys(process.env).filter(c=>/^debug_/i.test(c)).reduce((c,d)=>{const p=d.substring(6).toLowerCase().replace(/_([a-z])/g,(C,F)=>F.toUpperCase());let h=process.env[d];return/^(yes|on|true|enabled)$/i.test(h)?h=!0:/^(no|off|false|disabled)$/i.test(h)?h=!1:h==="null"?h=null:h=Number(h),c[p]=h,c},{});function r(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)}function o(c){const{namespace:d,useColors:p}=this;if(p){const h=this.color,C="\x1B[3"+(h<8?h:"8;5;"+h),F=`  ${C};1m${d} \x1B[0m`;c[0]=F+c[0].split(`
`).join(`
`+F),c.push(C+"m+"+e.exports.humanize(this.diff)+"\x1B[0m")}else c[0]=s()+d+" "+c[0]}function s(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function i(...c){return process.stderr.write(u.format(...c)+`
`)}function D(c){c?process.env.DEBUG=c:delete process.env.DEBUG}function l(){return process.env.DEBUG}function f(c){c.inspectOpts={};const d=Object.keys(t.inspectOpts);for(let p=0;p<d.length;p++)c.inspectOpts[d[p]]=t.inspectOpts[d[p]]}e.exports=fn()(t);const{formatters:a}=e.exports;a.o=function(c){return this.inspectOpts.colors=this.useColors,u.inspect(c,this.inspectOpts).split(`
`).map(d=>d.trim()).join(" ")},a.O=function(c){return this.inspectOpts.colors=this.useColors,u.inspect(c,this.inspectOpts)}}(vi,ce)),ce}(function(e){typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?e.exports=$i():e.exports=Si()})(bi);var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});function Oi(e){return function(t,n){return new Promise((u,r)=>{e.call(this,t,n,(o,s)=>{o?r(o):u(s)})})}}Pt.default=Oi;var Cn=w&&w.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const Ti=Wt,Pi=Cn(De),Ii=Cn(Pt),le=Pi.default("agent-base");function _i(e){return Boolean(e)&&typeof e.addRequest=="function"}function It(){const{stack:e}=new Error;return typeof e!="string"?!1:e.split(`
`).some(t=>t.indexOf("(https.js:")!==-1||t.indexOf("node:https:")!==-1)}function ke(e,t){return new ke.Agent(e,t)}(function(e){class t extends Ti.EventEmitter{constructor(u,r){super();let o=r;typeof u=="function"?this.callback=u:u&&(o=u),this.timeout=null,o&&typeof o.timeout=="number"&&(this.timeout=o.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:It()?443:80}set defaultPort(u){this.explicitDefaultPort=u}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:It()?"https:":"http:"}set protocol(u){this.explicitProtocol=u}callback(u,r,o){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(u,r){const o=Object.assign({},r);typeof o.secureEndpoint!="boolean"&&(o.secureEndpoint=It()),o.host==null&&(o.host="localhost"),o.port==null&&(o.port=o.secureEndpoint?443:80),o.protocol==null&&(o.protocol=o.secureEndpoint?"https:":"http:"),o.host&&o.path&&delete o.path,delete o.agent,delete o.hostname,delete o._defaultAgent,delete o.defaultPort,delete o.createConnection,u._last=!0,u.shouldKeepAlive=!1;let s=!1,i=null;const D=o.timeout||this.timeout,l=d=>{u._hadError||(u.emit("error",d),u._hadError=!0)},f=()=>{i=null,s=!0;const d=new Error(`A "socket" was not created for HTTP request before ${D}ms`);d.code="ETIMEOUT",l(d)},a=d=>{s||(i!==null&&(clearTimeout(i),i=null),l(d))},c=d=>{if(s)return;if(i!=null&&(clearTimeout(i),i=null),_i(d)){le("Callback returned another Agent instance %o",d.constructor.name),d.addRequest(u,o);return}if(d){d.once("free",()=>{this.freeSocket(d,o)}),u.onSocket(d);return}const p=new Error(`no Duplex stream was returned to agent-base for \`${u.method} ${u.path}\``);l(p)};if(typeof this.callback!="function"){l(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(le("Converting legacy callback function to promise"),this.promisifiedCallback=Ii.default(this.callback)):this.promisifiedCallback=this.callback),typeof D=="number"&&D>0&&(i=setTimeout(f,D)),"port"in o&&typeof o.port!="number"&&(o.port=Number(o.port));try{le("Resolving socket for %o request: %o",o.protocol,`${u.method} ${u.path}`),Promise.resolve(this.promisifiedCallback(u,o)).then(c,a)}catch(d){Promise.reject(d).catch(a)}}freeSocket(u,r){le("Freeing socket %o %o",u.constructor.name,r),u.destroy()}destroy(){le("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype})(ke||(ke={}));var ki=ke,_t={},Ri=w&&w.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_t,"__esModule",{value:!0});const Mi=Ri(De),fe=Mi.default("https-proxy-agent:parse-proxy-response");function Ni(e){return new Promise((t,n)=>{let u=0;const r=[];function o(){const a=e.read();a?f(a):e.once("readable",o)}function s(){e.removeListener("end",D),e.removeListener("error",l),e.removeListener("close",i),e.removeListener("readable",o)}function i(a){fe("onclose had error %o",a)}function D(){fe("onend")}function l(a){s(),fe("onerror %o",a),n(a)}function f(a){r.push(a),u+=a.length;const c=Buffer.concat(r,u);if(c.indexOf(`\r
\r
`)===-1){fe("have not received end of HTTP headers yet..."),o();return}const p=c.toString("ascii",0,c.indexOf(`\r
`)),h=+p.split(" ")[1];fe("got proxy server response: %o",p),t({statusCode:h,buffered:c})}e.on("error",l),e.on("close",i),e.on("end",D),o()})}_t.default=Ni;var ji=w&&w.__awaiter||function(e,t,n,u){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function i(f){try{l(u.next(f))}catch(a){s(a)}}function D(f){try{l(u.throw(f))}catch(a){s(a)}}function l(f){f.done?o(f.value):r(f.value).then(i,D)}l((u=u.apply(e,t||[])).next())})},Q=w&&w.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(At,"__esModule",{value:!0});const Fn=Q(Mn),gn=Q(Nn),Li=Q(jn),Gi=Q(Ht),Ui=Q(De),Hi=ki,Wi=Q(_t),de=Ui.default("https-proxy-agent:agent");class qi extends Hi.Agent{constructor(t){let n;if(typeof t=="string"?n=Li.default.parse(t):n=t,!n)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");de("creating new HttpsProxyAgent instance: %o",n),super(n);const u=Object.assign({},n);this.secureProxy=n.secureProxy||Yi(u.protocol),u.host=u.hostname||u.host,typeof u.port=="string"&&(u.port=parseInt(u.port,10)),!u.port&&u.host&&(u.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in u)&&(u.ALPNProtocols=["http 1.1"]),u.host&&u.path&&(delete u.path,delete u.pathname),this.proxy=u}callback(t,n){return ji(this,void 0,void 0,function*(){const{proxy:u,secureProxy:r}=this;let o;r?(de("Creating `tls.Socket`: %o",u),o=gn.default.connect(u)):(de("Creating `net.Socket`: %o",u),o=Fn.default.connect(u));const s=Object.assign({},u.headers);let D=`CONNECT ${`${n.host}:${n.port}`} HTTP/1.1\r
`;u.auth&&(s["Proxy-Authorization"]=`Basic ${Buffer.from(u.auth).toString("base64")}`);let{host:l,port:f,secureEndpoint:a}=n;Ki(f,a)||(l+=`:${f}`),s.Host=l,s.Connection="close";for(const C of Object.keys(s))D+=`${C}: ${s[C]}\r
`;const c=Wi.default(o);o.write(`${D}\r
`);const{statusCode:d,buffered:p}=yield c;if(d===200){if(t.once("socket",zi),n.secureEndpoint){de("Upgrading socket connection to TLS");const C=n.servername||n.host;return gn.default.connect(Object.assign(Object.assign({},Vi(n,"host","hostname","path","port")),{socket:o,servername:C}))}return o}o.destroy();const h=new Fn.default.Socket({writable:!1});return h.readable=!0,t.once("socket",C=>{de("replaying proxy buffer for failed request"),Gi.default(C.listenerCount("data")>0),C.push(p),C.push(null)}),h})}}At.default=qi;function zi(e){e.resume()}function Ki(e,t){return Boolean(!t&&e===80||t&&e===443)}function Yi(e){return typeof e=="string"?/^https:?$/i.test(e):!1}function Vi(e,...t){const n={};let u;for(u in e)t.includes(u)||(n[u]=e[u]);return n}var Ji=w&&w.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const kt=Ji(At);function Rt(e){return new kt.default(e)}(function(e){e.HttpsProxyAgent=kt.default,e.prototype=kt.default.prototype})(Rt||(Rt={}));var Xi=Rt;const Zi={"":"<commit message>",conventional:"<type>(<optional scope>): <commit message>"},Qi=e=>`The output response must be in format:
${Zi[e]}`,eD={"":"",conventional:`Choose a type from the type-to-description JSON below that best describes the git diff:
${JSON.stringify({docs:"Documentation only changes",style:"Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)",refactor:"A code change that neither fixes a bug nor adds a feature",perf:"A code change that improves performance",test:"Adding missing tests or correcting existing tests",build:"Changes that affect the build system or external dependencies",ci:"Changes to our CI configuration files and scripts",chore:"Other changes that don't modify src or test files",revert:"Reverts a previous commit",feat:"A new feature",fix:"A bug fix"},null,2)}`},tD=(e,t,n)=>["Generate a concise git commit message written in present tense for the following code diff with the given specifications below:",`Message language: ${e}`,`Commit message must be a maximum of ${t} characters.`,"Exclude anything unnecessary such as translation. Your entire response will be passed directly into git commit.",eD[n],Qi(n)].filter(Boolean).join(`
`),uD=e=>["Generate a detailed and technical git code review message for the following code diff with the given specifications below:",`Message language: ${e}`,"Exclude anything unnecessary, such as translations and the analysis of unused variables. Your entire response will be part of the code analysis and review. Include a code analysis, a linter check, and a spelling check; if you find errors, redundancies, syntax errors, or typos, include them in the analysis. Do not perform an analysis of unused variables. If findings are identified during the analysis, provide the relevant recommendations. Additionally, make sure to include the name of the file you are analyzing in the diff. Only report incidents; if things are correct or within normal parameters, there is no need to report them. Summarize the response as much as possible and use bullet points to organize and format the response."].filter(Boolean).join(`
`),nD=async(e,t,n,u,r,o)=>new Promise((s,i)=>{const D=JSON.stringify(u),l=Rn.request({port:443,hostname:e,path:t,method:"POST",headers:{...n,"Content-Type":"application/json","Content-Length":Buffer.byteLength(D)},timeout:r,agent:o?Xi(o):void 0},f=>{const a=[];f.on("data",c=>a.push(c)),f.on("end",()=>{s({request:l,response:f,data:Buffer.concat(a).toString()})})});l.on("error",i),l.on("timeout",()=>{l.destroy(),i(new v(`Time out error: request took over ${r}ms. Try increasing the \`timeout\` config, or checking the OpenAI API status https://status.openai.com`))}),l.write(D),l.end()}),En=async(e,t,n,u)=>{const{response:r,data:o}=await nD("api.openai.com","/v1/chat/completions",{Authorization:`Bearer ${e}`},t,n,u);if(!r.statusCode||r.statusCode<200||r.statusCode>299){let s=`OpenAI API Error: ${r.statusCode} - ${r.statusMessage}`;throw o&&(s+=`

${o}`),r.statusCode===500&&(s+=`

Check the API status: https://status.openai.com`),new v(s)}return JSON.parse(o)},rD=e=>e.trim().replace(/[\n\r]/g,"").replace(/(\w)\.$/,"$1"),yn=e=>Array.from(new Set(e)),bn=async(e,t,n,u,r,o,s,i,D)=>{try{const l=await En(e,{model:t,messages:[{role:"system",content:tD(n,o,s)},{role:"user",content:u}],temperature:.7,top_p:1,frequency_penalty:0,presence_penalty:0,max_tokens:200,stream:!1,n:r},i,D);return yn(l.choices.filter(f=>f.message?.content).map(f=>rD(f.message.content)))}catch(l){const f=l;throw f.code==="ENOTFOUND"?new v(`Error connecting to ${f.hostname} (${f.syscall}). Are you connected to the internet?`):f}},oD=async(e,t,n,u,r,o,s,i,D)=>{const l=[];for(const f of u)try{const a=await En(e,{model:t,messages:[{role:"system",content:uD(n)},{role:"user",content:f}],temperature:.7,top_p:1,frequency_penalty:0,presence_penalty:0,max_tokens:200,stream:!1,n:r},i,D);l.push([yn(a.choices.filter(c=>c.message?.content).map(c=>c.message.content)),`
==========================================================================
`])}catch(a){const c=a;throw c.code==="ENOTFOUND"?new v(`Error connecting to ${c.hostname} (${c.syscall}). Are you connected to the internet?`):c}return[l.join(`

`)]};var sD=async(e,t,n,u,r)=>(async()=>{Et(dt(ft(" aicommits "))),await wt();const o=se();n&&await G("git",["add","--update"]),o.start("Detecting staged files");const s=await en(t);if(!s)throw o.stop("Detecting staged files"),new v("No staged changes found. Stage your changes manually, or automatically stage all changes with the `--all` flag.");o.stop(`${tn(s.files)}:
${s.files.map(c=>`     ${c}`).join(`
`)}`);const{env:i}=process,D=await _e({OPENAI_KEY:i.OPENAI_KEY||i.OPENAI_API_KEY,proxy:i.https_proxy||i.HTTPS_PROXY||i.http_proxy||i.HTTP_PROXY,generate:e?.toString(),type:u?.toString()}),l=se();l.start("The AI is analyzing your changes");let f;try{f=await bn(D.OPENAI_KEY,D.model,D.locale,s.diff,D.generate,D["max-length"],D.type,D.timeout,D.proxy)}finally{l.stop("Changes analyzed")}if(f.length===0)throw new v("No commit messages were generated. Try again.");let a;if(f.length===1){[a]=f;const c=await Zu({message:`Use this commit message?

   ${a}
`});if(!c||xe(c)){I("Commit cancelled");return}}else{const c=await Qu({message:`Pick a commit message to use: ${Ae("(Ctrl+c to exit)")}`,options:f.map(d=>({label:d,value:d}))});if(xe(c)){I("Commit cancelled");return}a=c}await G("git",["commit","-m",a,...r]),I(`${oe("\u2714")} Successfully committed!`)})().catch(o=>{I(`${J("\u2716")} ${o.message}`),X(o),process.exit(1)});const[Mt,iD]=process.argv.slice(2);var DD=()=>(async()=>{if(!Mt)throw new v('Commit message file path is missing. This file should be called from the "prepare-commit-msg" git hook');if(iD)return;const e=await en();if(!e)return;Et(dt(ft(" aicommits ")));const{env:t}=process,n=await _e({proxy:t.https_proxy||t.HTTPS_PROXY||t.http_proxy||t.HTTP_PROXY}),u=se();u.start("The AI is analyzing your changes");let r;try{r=await bn(n.OPENAI_KEY,n.model,n.locale,e.diff,n.generate,n["max-length"],n.type,n.timeout,n.proxy)}finally{u.stop("Changes analyzed")}const s=await O.readFile(Mt,"utf8")!=="",i=r.length>1;let D="";s&&(D=`# \u{1F916} AI generated commit${i?"s":""}
`),i?(s&&(D+=`# Select one of the following messages by uncommeting:
`),D+=`
${r.map(l=>`# ${l}`).join(`
`)}`):(s&&(D+=`# Edit the message below and commit:
`),D+=`
${r[0]}
`),await O.appendFile(Mt,D),I(`${oe("\u2714")} Saved commit message!`)})().catch(e=>{I(`${J("\u2716")} ${e.message}`),X(e),process.exit(1)}),aD=Ye({name:"config",parameters:["<mode>","<key=value...>"]},e=>{(async()=>{const{mode:t,keyValue:n}=e._;if(t==="get"){const u=await _e({},!0);for(const r of n)Dn(u,r)&&console.log(`${r}=${u[r]}`);return}if(t==="set"){await yi(n.map(u=>u.split("=")));return}throw new v(`Invalid mode: ${t}`)})().catch(t=>{console.error(`${J("\u2716")} ${t.message}`),X(t),process.exit(1)})});const wn="prepare-commit-msg",Bn=`.git/hooks/${wn}`,Re=Ln(new URL("cli.mjs",import.meta.url)),cD=process.argv[1].replace(/\\/g,"/").endsWith(`/${Bn}`),$n=process.platform==="win32",vn=`
#!/usr/bin/env node
import(${JSON.stringify(Gn(Re))})
`.trim();var lD=Ye({name:"hook",parameters:["<install/uninstall>"]},e=>{(async()=>{const t=await wt(),{installUninstall:n}=e._,u=q.join(t,Bn),r=await sn(u);if(n==="install"){if(r){if(await O.realpath(u).catch(()=>{})===Re){console.warn("The hook is already installed");return}throw new v(`A different ${wn} hook seems to be installed. Please remove it before installing aicommits.`)}await O.mkdir(q.dirname(u),{recursive:!0}),$n?await O.writeFile(u,vn):(await O.symlink(Re,u,"file"),await O.chmod(u,493)),console.log(`${oe("\u2714")} Hook installed`);return}if(n==="uninstall"){if(!r){console.warn("Hook is not installed");return}if($n){if(await O.readFile(u,"utf8")!==vn){console.warn("Hook is not installed");return}}else if(await O.realpath(u)!==Re){console.warn("Hook is not installed");return}await O.rm(u),console.log(`${oe("\u2714")} Hook uninstalled`);return}throw new v(`Invalid mode: ${n}`)})().catch(t=>{console.error(`${J("\u2716")} ${t.message}`),X(t),process.exit(1)})}),fD=async(e,t,n,u)=>(async()=>{Et(dt(ft(" makecodereview "))),await wt();const r=se();r.start("Detecting staged files");const o=await Ci(t,n,u);if(!o)throw r.stop("Detecting staged files"),new v("No staged changes found. Stage your changes manually, or automatically stage all changes with the `--all` flag.");r.stop(`${tn(o.files)}:
${o.files.map(a=>`     ${a}`).join(`
`)}`);const{env:s}=process,i=await _e({OPENAI_KEY:s.OPENAI_KEY||s.OPENAI_API_KEY,proxy:s.https_proxy||s.HTTPS_PROXY||s.http_proxy||s.HTTP_PROXY,generate:e?.toString(),type:void 0}),D=se();D.start("The AI is analyzing your changes");let l;try{l=await oD(i.OPENAI_KEY,i.model,i.locale,o.diff,i.generate,i["max-length"],i.type,i.timeout,i.proxy)}finally{D.stop("Changes analyzed")}if(l.length===0)throw new v("No commit messages were generated. Try again.");let f;if(l.length===1){[f]=l;const a=await Zu({message:`Use this code review message?

   ${f}
`});if(!a||xe(a)){I("Code Review cancelled");return}}else{const a=await Qu({message:`Pick a review message to use: ${Ae("(Ctrl+c to exit)")}`,options:l.map(c=>({label:c,value:c}))});if(xe(a)){I("Code Review cancelled");return}f=a}I(`${oe("\u2714")} Successfully reviewed!`)})().catch(r=>{I(`${J("\u2716")} ${r.message}`),X(r),process.exit(1)});process.argv.slice(2);var dD=Ye({name:"makecodereview",parameters:["<frombranch>","<tobranch>"],flags:{generate:{type:Number,description:"Number of messages to generate (Warning: generating multiple costs more) (default: 1)",alias:"g"},exclude:{type:[String],description:"Files to exclude from AI analysis",alias:"x"},all:{type:Boolean,description:"Automatically stage changes in tracked files for the commit",alias:"a",default:!1},type:{type:String,description:"Type of commit message to generate",alias:"t"}}},e=>{(async()=>{const{frombranch:t,tobranch:n}=e._;fD(e.flags.generate,t,n,e.flags.exclude)})().catch(t=>{console.error(`${J("\u2716")} ${t.message}`),X(t),process.exit(1)})});const An=process.argv.slice(2);so({name:"aicommits",version:pu,flags:{generate:{type:Number,description:"Number of messages to generate (Warning: generating multiple costs more) (default: 1)",alias:"g"},exclude:{type:[String],description:"Files to exclude from AI analysis",alias:"x"},all:{type:Boolean,description:"Automatically stage changes in tracked files for the commit",alias:"a",default:!1},type:{type:String,description:"Type of commit message to generate",alias:"t"}},commands:[aD,lD,dD],help:{description:io},ignoreArgv:e=>e==="unknown-flag"||e==="argument"},e=>{cD?DD():sD(e.flags.generate,e.flags.exclude,e.flags.all,e.flags.type,An)},An);
